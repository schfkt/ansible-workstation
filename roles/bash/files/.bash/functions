# vim: ft=bash

# Pick a sript from package.json with fzf and run it
function yr() {
  local script=$(jq -r ".scripts | keys[]" package.json | fzf)
  if [ -n "$script" ]; then
    echo "yarn run $script"
    yarn run "$script"
  fi
}

# Select a local git branch with fzf and check it out
function gc() {
  local branch=$(git for-each-ref --format='%(refname:short)' refs/heads | fzf)
  if [ -n "$branch" ]; then
    git checkout "$branch"
  fi
}

# Select a background job and make it foreground
function j() {
  local job=$(jobs | fzf | grep -Po '\d+')
  if [ -n "$job" ]; then
    fg %$job
  fi
}
